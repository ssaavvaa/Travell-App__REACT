"use strict";function asyncGeneratorStep(e,n,t,r,a,c,o){try{var s=e[c](o),i=s.value}catch(e){return void t(e)}s.done?n(i):Promise.resolve(i).then(r,a)}function _asyncToGenerator(s){return function(){var e=this,o=arguments;return new Promise(function(n,t){var r=s.apply(e,o);function a(e){asyncGeneratorStep(r,n,t,a,c,"next",e)}function c(e){asyncGeneratorStep(r,n,t,a,c,"throw",e)}a(void 0)})}}var createVenueHTML=function(e,n,t){return"<h2>".concat(e,'</h2>\n    <img class="venueimage" src="').concat(t,'"/>\n    <h3>Address:</h3>\n    <p class = "address">').concat(n.address,'</p>\n    <p class = "anton">').concat(n.city,'</p>\n    <p class = "anton">').concat(n.country,"</p>")},createWeatherHTML=function(e){return"<h2> High: ".concat(e.day.maxtemp_c,"</h2>\n      <h2> Low: ").concat(e.day.mintemp_c,'</h2>\n      <img src="https://').concat(e.day.condition.icon,'" class="weathericon" />\n      <h2>').concat(weekDays[new Date(e.date).getDay()],"</h2>")},apiKey="07426ee63a3f4dd797301734190303",forecastUrl="https://api.apixu.com/v1/forecast.json?key=",$input=$("#city"),$submit=$("#button"),$destination=$("#destination"),$container=$(".container"),$venueDivs=[$("#venue1"),$("#venue2"),$("#venue3"),$("#venue4"),$("#venue5")],$weatherDivs=[$("#weather1"),$("#weather2"),$("#weather3"),$("#weather4")],weekDays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],getVenues=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var n,t,r,a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=$input.val(),t="https://api.foursquare.com/v2/venues/explore?near="+n+"&limit=10&client_id=WOHYZNSJT0L3YP5PKOVKWZHAYMYAIG33H0PLDS31LKBHPIQN&client_secret=YIUZV53Q5JREBWDYADXF2JFC3IMFW5FHQX1WDNWSFZAUFFJZ&v=20190303",e.prev=2,e.next=5,fetch(t);case 5:if((r=e.sent).ok)return e.next=9,r.json();e.next=13;break;case 9:return a=e.sent,c=a.response.groups[0].items.map(function(e){return e.venue}),console.log(c),e.abrupt("return",c);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0);case 18:case"end":return e.stop()}},e,this,[[2,15]])}));return function(){return e.apply(this,arguments)}}(),getForecast=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var n,t,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=forecastUrl+apiKey+"&q="+$input.val()+"&days=4&hour=11",e.prev=1,e.next=4,fetch(n);case 4:if((t=e.sent).ok)return e.next=8,t.json();e.next=12;break;case 8:return r=e.sent,a=r.forecast.forecastday,console.log(a),e.abrupt("return",a);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}},e,this,[[1,14]])}));return function(){return e.apply(this,arguments)}}(),renderVenues=function(o){$venueDivs.forEach(function(e,n){var t=o[n],r=t.categories[0].icon,a="".concat(r.prefix,"88").concat(r.suffix),c=createVenueHTML(t.name,t.location,a);e.append(c)}),$destination.append("<h2>".concat(o[0].location.city,"</h2>"))},renderForecast=function(a){$weatherDivs.forEach(function(e,n){var t=a[n],r=createWeatherHTML(t);e.append(r)})},executeSearch=function(){return $venueDivs.forEach(function(e){return e.empty()}),$weatherDivs.forEach(function(e){return e.empty()}),$destination.empty(),getVenues().then(function(e){return renderVenues(e)}),getForecast().then(function(e){return renderForecast(e)}),$container.css("visibility","visible"),!1};$submit.click(executeSearch);